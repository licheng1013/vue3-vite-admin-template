import{_ as U,s as T,b as c,o as f,g as h,e as l,w as s,x as O,n as z,u as k,q as $,a as x,y as F,k as B,f as V,F as w,h as A,z as D,E as N,c as S}from"./index.11aff078.js";const P={class:"page"},E={__name:"Pagination",props:{total:Number},emits:["onChange"],setup(o,{emit:u}){const d=T({page:1,size:10}),e=()=>{u("onChange",d)};return e(),(b,i)=>{const _=c("el-pagination"),n=c("el-card");return f(),h("div",P,[l(n,{class:z(k($))},{default:s(()=>[l(_,{currentPage:d.page,"onUpdate:currentPage":i[0]||(i[0]=a=>d.page=a),"page-size":d.size,"onUpdate:page-size":i[1]||(i[1]=a=>d.size=a),total:o.total,"onUpdate:total":i[2]||(i[2]=a=>O(total)?total.value=a:null),"page-sizes":[10,20,30,50],background:"",layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e,onCurrentChange:e},null,8,["currentPage","page-size","total"])]),_:1},8,["class"])])}}},I=U(E,[["__scopeId","data-v-055210b4"]]);const j={__name:"Table",props:{model:{},data:{type:Array}},emits:["onDelete","onAdd","onUpdate"],setup(o,{emit:u}){const d=x(0);F(()=>{let _=document.querySelector(".table");d.value=_.clientHeight});const e=x([]),b=_=>{e.value=_},i=()=>{N.confirm("\u662F\u5426\u5220\u9664\u6240\u9009\u5143\u7D20\uFF01","\u5220\u9664\u64CD\u4F5C",{confirmButtonText:"\u786E\u8BA4",cancelButtonText:"\u53D6\u6D88",type:"error",center:!0}).then(()=>{u("onDelete",e.value)}).catch()};return(_,n)=>{const a=c("el-button"),r=c("el-card"),m=c("el-table-column"),C=c("el-table");return f(),h("div",{class:z(["table",k(D)])},[B("div",null,[l(r,{class:"edit"},{default:s(()=>[l(a,{type:"primary",onClick:n[0]||(n[0]=v=>{u("onAdd",o.model)})},{default:s(()=>[V("\u6DFB\u52A0")]),_:1}),l(a,{type:"success",onClick:n[1]||(n[1]=v=>{u("onUpdate",e.value[0])}),disabled:e.value.length!==1},{default:s(()=>[V("\u4FEE\u6539 ")]),_:1},8,["disabled"]),l(a,{type:"danger",onClick:i,disabled:e.value.length<1},{default:s(()=>[V("\u5220\u9664")]),_:1},8,["disabled"])]),_:1}),l(r,{class:"body",ref:"body"},{default:s(()=>[l(C,{data:o.data,style:{width:"100%"},onSelectionChange:b,height:d.value-100},{default:s(()=>[l(m,{type:"selection",width:"55"}),(f(!0),h(w,null,A(o.model,(v,p,t)=>(f(),S(m,{label:v,prop:p},null,8,["label","prop"]))),256))]),_:1},8,["data","height"])]),_:1},512)])],2)}}},q=U(j,[["__scopeId","data-v-42664c19"]]),J={class:"edit"},L={class:"dialog-footer"},M={__name:"Edit",props:{editFlag:Boolean,model:{},body:{},title:String},emits:["onClose","onOk"],setup(o,{emit:u}){const d=o,e=x(null),b=()=>{u("onClose")},i=()=>{u("onOk",d.body)};return(_,n)=>{const a=c("el-input"),r=c("el-form-item"),m=c("el-form"),C=c("el-button"),v=c("el-dialog");return f(),h("div",J,[l(v,{ref:e.value,modelValue:o.editFlag,"onUpdate:modelValue":n[1]||(n[1]=p=>O(editFlag)?editFlag.value=p:null),title:o.title,width:"30%","before-close":b},{footer:s(()=>[B("span",L,[l(C,{onClick:b},{default:s(()=>[V("\u53D6\u6D88")]),_:1}),l(C,{type:"primary",onClick:i},{default:s(()=>[V("\u786E\u8BA4")]),_:1})])]),default:s(()=>[l(m,{modelValue:o.body,"onUpdate:modelValue":n[0]||(n[0]=p=>O(body)?body.value=p:null),"label-width":"120px"},{default:s(()=>[(f(!0),h(w,null,A(o.model,(p,t,g)=>(f(),S(r,{label:p},{default:s(()=>[l(a,{modelValue:o.body[t],"onUpdate:modelValue":y=>o.body[t]=y},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]))),256))]),_:1},8,["modelValue"])]),_:1},8,["modelValue","title"])])}}};const H={class:"app"},R={__name:"AppView",setup(o){const u={index:"\u7D22\u5F15",name:"\u59D3\u540D",sex:"\u6027\u522B",addr:"\u5730\u5740",status:"\u72B6\u6001",createTime:"\u521B\u5EFA\u65F6\u95F4"};let d={index:0,name:"\u5C0F\u84DD",sex:"\u7537",addr:"\u5317\u4EAC\u5E02",status:"\u5173\u95ED",createTime:"2022/10/7"},e=x([]);const b=()=>{for(let t=0;t<30;t++){let g=JSON.parse(JSON.stringify(d));g.index=t,e.value.push(g)}},i=t=>{console.log(t),b()},_=t=>{for(let g in t)for(let y=0;y<e.value.length;y++)if(e.value[y].index===t[g].index){e.value.splice(y,1);break}};let n=x(""),a=["\u6DFB\u52A0","\u4FEE\u6539"];const r=x(!1),m=x({}),C=()=>{n.value=a[0],r.value=!0,m.value={}},v=t=>{n.value=a[1],r.value=!0,m.value=t},p=t=>{console.log(t),r.value=!1};return(t,g)=>(f(),h("div",H,[l(q,{model:u,data:k(e),onOnDelete:_,onOnAdd:C,onOnUpdate:v},null,8,["data"]),l(I,{onOnChange:i,total:50}),l(M,{title:k(n),"edit-flag":r.value,model:u,body:m.value,onOnOk:p,onOnClose:g[0]||(g[0]=y=>r.value=!1)},null,8,["title","edit-flag","body"])]))}},K=U(R,[["__scopeId","data-v-ebb7fcac"]]);export{K as default};
