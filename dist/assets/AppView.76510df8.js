import{_ as A,y as T,b as r,o as y,g as w,e as o,w as l,z as U,a as v,A as D,i as z,f as b,F as $,h as B,c as S,p as F,t as k,E as N,u as O}from"./index.8ed6e493.js";import{A as P}from"./AnimBounceInUp.ca901682.js";const E={class:"page"},I={__name:"Pagination",props:{total:Number},emits:["onChange"],setup(a,{emit:i}){const d=T({page:1,size:10}),e=()=>{i("onChange",d)};return e(),(x,u)=>{const _=r("el-pagination"),s=r("el-card");return y(),w("div",E,[o(s,null,{default:l(()=>[o(_,{currentPage:d.page,"onUpdate:currentPage":u[0]||(u[0]=n=>d.page=n),"page-size":d.size,"onUpdate:page-size":u[1]||(u[1]=n=>d.size=n),total:a.total,"onUpdate:total":u[2]||(u[2]=n=>U(total)?total.value=n:null),"page-sizes":[10,20,30,50],background:"",layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e,onCurrentChange:e},null,8,["currentPage","page-size","total"])]),_:1})])}}},j=A(I,[["__scopeId","data-v-6162019e"]]);const J={class:"table"},L={__name:"Table",props:{model:{},data:{type:Array}},emits:["onDelete","onAdd","onUpdate"],setup(a,{emit:i}){const d=v(0);D(()=>{let _=document.querySelector(".table");d.value=_.clientHeight});const e=v([]),x=_=>{e.value=_},u=()=>{N.confirm("\u662F\u5426\u5220\u9664\u6240\u9009\u5143\u7D20\uFF01","\u5220\u9664\u64CD\u4F5C",{confirmButtonText:"\u786E\u8BA4",cancelButtonText:"\u53D6\u6D88",type:"error",center:!0}).then(()=>{i("onDelete",e.value)}).catch()};return(_,s)=>{const n=r("el-button"),C=r("el-card"),p=r("el-table-column"),f=r("el-table");return y(),w("div",J,[z("div",null,[o(C,{class:"edit"},{default:l(()=>[o(n,{type:"primary",onClick:s[0]||(s[0]=h=>{i("onAdd",a.model)})},{default:l(()=>[b("\u6DFB\u52A0")]),_:1}),o(n,{type:"success",onClick:s[1]||(s[1]=h=>{i("onUpdate",e.value[0])}),disabled:e.value.length!==1},{default:l(()=>[b("\u4FEE\u6539 ")]),_:1},8,["disabled"]),o(n,{type:"danger",onClick:u,disabled:e.value.length<1},{default:l(()=>[b("\u5220\u9664")]),_:1},8,["disabled"])]),_:1}),o(C,{class:"body",ref:"body"},{default:l(()=>[o(f,{data:a.data,style:{width:"100%"},onSelectionChange:x,height:d.value-100},{default:l(()=>[o(p,{type:"selection",width:"55"}),(y(!0),w($,null,B(a.model,(h,c,V)=>(y(),S(p,{label:h,prop:c},{default:l(t=>[F(_.$slots,c,{scope:t},()=>[b(k(t.row[c]),1)],!0)]),_:2},1032,["label","prop"]))),256))]),_:3},8,["data","height"])]),_:3},512)])])}}},M=A(L,[["__scopeId","data-v-caae8ee3"]]),q={class:"edit"},H={class:"dialog-footer"},R={__name:"Edit",props:{editFlag:Boolean,model:{},body:{},title:String},emits:["onClose","onOk"],setup(a,{emit:i}){const d=a,e=v(null),x=()=>{i("onClose")},u=()=>{i("onOk",d.body)};return(_,s)=>{const n=r("el-input"),C=r("el-form-item"),p=r("el-form"),f=r("el-button"),h=r("el-dialog");return y(),w("div",q,[o(h,{ref:e.value,modelValue:a.editFlag,"onUpdate:modelValue":s[1]||(s[1]=c=>U(editFlag)?editFlag.value=c:null),title:a.title,width:"30%","before-close":x},{footer:l(()=>[z("span",H,[o(f,{onClick:x},{default:l(()=>[b("\u53D6\u6D88")]),_:1}),o(f,{type:"primary",onClick:u},{default:l(()=>[b("\u786E\u8BA4")]),_:1})])]),default:l(()=>[o(p,{modelValue:a.body,"onUpdate:modelValue":s[0]||(s[0]=c=>U(body)?body.value=c:null),"label-width":"120px"},{default:l(()=>[(y(!0),w($,null,B(a.model,(c,V,t)=>(y(),S(C,{label:c},{default:l(()=>[o(n,{modelValue:a.body[V],"onUpdate:modelValue":m=>a.body[V]=m},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]))),256))]),_:1},8,["modelValue"])]),_:1},8,["modelValue","title"])])}}};const G={class:"app"},K={__name:"AppView",setup(a){const i={index:"\u7D22\u5F15",name:"\u59D3\u540D",sex:"\u6027\u522B",addr:"\u5730\u5740",status:"\u72B6\u6001",createTime:"\u521B\u5EFA\u65F6\u95F4"};let d={index:0,name:"\u5C0F\u84DD",sex:2,addr:"\u5317\u4EAC\u5E02",status:1,createTime:"2022/10/7"},e=v([]),x=v(50);const u=()=>{for(let t=0;t<30;t++){let m=JSON.parse(JSON.stringify(d));m.index=t,e.value.push(m)}},_=t=>{console.log(t),u()},s=t=>{for(let m in t)for(let g=0;g<e.value.length;g++)if(e.value[g].index===t[m].index){e.value.splice(g,1);break}};let n=v(""),C=["\u6DFB\u52A0","\u4FEE\u6539"];const p=v(!1),f=v({}),h=()=>{n.value=C[0],p.value=!0,f.value={}},c=t=>{n.value=C[1],p.value=!0,f.value=t},V=t=>{console.log(t),p.value=!1};return(t,m)=>(y(),S(P,null,{default:l(()=>[z("div",G,[o(M,{model:i,data:O(e),onOnDelete:s,onOnAdd:h,onOnUpdate:c},{sex:l(g=>[b(k(g.scope.row.sex===1?"\u7537\u7684":"\u5973\u7684"),1)]),status:l(g=>[b(k(g.scope.row.status===1?"\u6B63\u5E38":"\u5173\u95ED"),1)]),_:1},8,["data"]),o(j,{onOnChange:_,total:O(x)},null,8,["total"]),o(R,{title:O(n),"edit-flag":p.value,model:i,body:f.value,onOnOk:V,onOnClose:m[0]||(m[0]=g=>p.value=!1)},null,8,["title","edit-flag","body"])])]),_:1}))}},X=A(K,[["__scopeId","data-v-4b21feeb"]]);export{X as default};
