import{_ as z,s as D,b as r,o as y,g as V,e as l,w as o,x as O,n as B,u as w,q as F,a as v,y as N,k as S,f as b,F as A,h as $,z as P,E,c as T,A as I,t as U}from"./index.053671b9.js";const j={class:"page"},q={__name:"Pagination",props:{total:Number},emits:["onChange"],setup(a,{emit:u}){const d=D({page:1,size:10}),e=()=>{u("onChange",d)};return e(),(x,i)=>{const _=r("el-pagination"),s=r("el-card");return y(),V("div",j,[l(s,{class:B(w(F))},{default:o(()=>[l(_,{currentPage:d.page,"onUpdate:currentPage":i[0]||(i[0]=n=>d.page=n),"page-size":d.size,"onUpdate:page-size":i[1]||(i[1]=n=>d.size=n),total:a.total,"onUpdate:total":i[2]||(i[2]=n=>O(total)?total.value=n:null),"page-sizes":[10,20,30,50],background:"",layout:"total, sizes, prev, pager, next, jumper",onSizeChange:e,onCurrentChange:e},null,8,["currentPage","page-size","total"])]),_:1},8,["class"])])}}},J=z(q,[["__scopeId","data-v-055210b4"]]);const L={__name:"Table",props:{model:{},data:{type:Array}},emits:["onDelete","onAdd","onUpdate"],setup(a,{emit:u}){const d=v(0);N(()=>{let _=document.querySelector(".table");d.value=_.clientHeight});const e=v([]),x=_=>{e.value=_},i=()=>{E.confirm("\u662F\u5426\u5220\u9664\u6240\u9009\u5143\u7D20\uFF01","\u5220\u9664\u64CD\u4F5C",{confirmButtonText:"\u786E\u8BA4",cancelButtonText:"\u53D6\u6D88",type:"error",center:!0}).then(()=>{u("onDelete",e.value)}).catch()};return(_,s)=>{const n=r("el-button"),C=r("el-card"),p=r("el-table-column"),f=r("el-table");return y(),V("div",{class:B(["table",w(P)])},[S("div",null,[l(C,{class:"edit"},{default:o(()=>[l(n,{type:"primary",onClick:s[0]||(s[0]=h=>{u("onAdd",a.model)})},{default:o(()=>[b("\u6DFB\u52A0")]),_:1}),l(n,{type:"success",onClick:s[1]||(s[1]=h=>{u("onUpdate",e.value[0])}),disabled:e.value.length!==1},{default:o(()=>[b("\u4FEE\u6539 ")]),_:1},8,["disabled"]),l(n,{type:"danger",onClick:i,disabled:e.value.length<1},{default:o(()=>[b("\u5220\u9664")]),_:1},8,["disabled"])]),_:1}),l(C,{class:"body",ref:"body"},{default:o(()=>[l(f,{data:a.data,style:{width:"100%"},onSelectionChange:x,height:d.value-100},{default:o(()=>[l(p,{type:"selection",width:"55"}),(y(!0),V(A,null,$(a.model,(h,c,k)=>(y(),T(p,{label:h,prop:c},{default:o(t=>[I(_.$slots,c,{scope:t},()=>[b(U(t.row[c]),1)],!0)]),_:2},1032,["label","prop"]))),256))]),_:3},8,["data","height"])]),_:3},512)])],2)}}},M=z(L,[["__scopeId","data-v-e1334c7d"]]),H={class:"edit"},R={class:"dialog-footer"},G={__name:"Edit",props:{editFlag:Boolean,model:{},body:{},title:String},emits:["onClose","onOk"],setup(a,{emit:u}){const d=a,e=v(null),x=()=>{u("onClose")},i=()=>{u("onOk",d.body)};return(_,s)=>{const n=r("el-input"),C=r("el-form-item"),p=r("el-form"),f=r("el-button"),h=r("el-dialog");return y(),V("div",H,[l(h,{ref:e.value,modelValue:a.editFlag,"onUpdate:modelValue":s[1]||(s[1]=c=>O(editFlag)?editFlag.value=c:null),title:a.title,width:"30%","before-close":x},{footer:o(()=>[S("span",R,[l(f,{onClick:x},{default:o(()=>[b("\u53D6\u6D88")]),_:1}),l(f,{type:"primary",onClick:i},{default:o(()=>[b("\u786E\u8BA4")]),_:1})])]),default:o(()=>[l(p,{modelValue:a.body,"onUpdate:modelValue":s[0]||(s[0]=c=>O(body)?body.value=c:null),"label-width":"120px"},{default:o(()=>[(y(!0),V(A,null,$(a.model,(c,k,t)=>(y(),T(C,{label:c},{default:o(()=>[l(n,{modelValue:a.body[k],"onUpdate:modelValue":m=>a.body[k]=m},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"]))),256))]),_:1},8,["modelValue"])]),_:1},8,["modelValue","title"])])}}};const K={class:"app"},Q={__name:"AppView",setup(a){const u={index:"\u7D22\u5F15",name:"\u59D3\u540D",sex:"\u6027\u522B",addr:"\u5730\u5740",status:"\u72B6\u6001",createTime:"\u521B\u5EFA\u65F6\u95F4"};let d={index:0,name:"\u5C0F\u84DD",sex:2,addr:"\u5317\u4EAC\u5E02",status:1,createTime:"2022/10/7"},e=v([]),x=v(50);const i=()=>{for(let t=0;t<30;t++){let m=JSON.parse(JSON.stringify(d));m.index=t,e.value.push(m)}},_=t=>{console.log(t),i()},s=t=>{for(let m in t)for(let g=0;g<e.value.length;g++)if(e.value[g].index===t[m].index){e.value.splice(g,1);break}};let n=v(""),C=["\u6DFB\u52A0","\u4FEE\u6539"];const p=v(!1),f=v({}),h=()=>{n.value=C[0],p.value=!0,f.value={}},c=t=>{n.value=C[1],p.value=!0,f.value=t},k=t=>{console.log(t),p.value=!1};return(t,m)=>(y(),V("div",K,[l(M,{model:u,data:w(e),onOnDelete:s,onOnAdd:h,onOnUpdate:c},{sex:o(g=>[b(U(g.scope.row.sex===1?"\u7537\u7684":"\u5973\u7684"),1)]),status:o(g=>[b(U(g.scope.row.status===1?"\u6B63\u5E38":"\u5173\u95ED"),1)]),_:1},8,["data"]),l(J,{onOnChange:_,total:w(x)},null,8,["total"]),l(G,{title:w(n),"edit-flag":p.value,model:u,body:f.value,onOnOk:k,onOnClose:m[0]||(m[0]=g=>p.value=!1)},null,8,["title","edit-flag","body"])]))}},X=z(Q,[["__scopeId","data-v-384f6c49"]]);export{X as default};
